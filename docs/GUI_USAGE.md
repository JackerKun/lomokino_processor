# LomoKino GUI 使用说明

## 🎯 正确的使用方式

### 工作原理
```
胶片扫描图 (1.jpg)      →    自动提取多个帧    →    拼接成视频
[包含8-10个画面帧]           [检测分隔线]          [MP4输出]
```

### 界面布局
```
┌────────────────────────────────────────────────────────────────────────────┐
│                       LomoKino 胶片处理工具                                  │
├─────────────┬──────────────────┬──────────────────────┬───────────────────┤
│  胶片列表    │   胶片预览        │    提取的帧           │   处理参数        │
│             │   (竖向显示)      │    (网格显示)         │                   │
│ 📷 1.jpg    │  ┌────────────┐  │ ┌──┬──┬──┬──┐       │ 帧高度:           │
│ 📷 2.jpg    │  │  ╔══════╗  │  │ │帧1│2│3│4│         │ ⦿ 自动检测        │
│ 📷 3.jpg    │  │  ║      ║  │  │ ├──┼──┼──┼──┤       │ ○ 手动: [200]    │
│             │  │  ║ 画面1 ║  │  │ │5│6│7│8│           │                   │
│💡拖拽文件    │  │  ║      ║  │  │ ├──┼──┼──┼──┤       │ FPS: [12]        │
│             │  │  ╚══════╝  │  │ │9│10│11│12│        │                   │
│➕ 添加胶片   │  │  ╔══════╗  │  │ └──┴──┴──┴──┘       │ 统计信息:         │
│➖ 移除选中   │  │  ║ 画面2 ║  │  │                     │ 总帧数: 24       │
│🗑️ 清空列表  │  │  ╚══════╝  │  │ 提取的帧将显示       │ 预计时长: 2.0秒  │
│             │  │     ...     │  │ 在这里              │                   │
│胶片数量: 3   │  │  ╔══════╗  │  │                     │ [🎬 提取所有帧]  │
│             │  │  ║ 画面8 ║  │  │                     │ [🎥 生成视频]    │
│             │  │  ╚══════╝  │  │                     │                   │
│             │  └────────────┘  │                     │                   │
└─────────────┴──────────────────┴──────────────────────┴───────────────────┘
```

## 📝 使用步骤

### 1️⃣ 添加胶片图片
**方式一**: 点击"➕ 添加胶片"按钮
**方式二**: 直接拖拽图片文件到窗口任意位置
**方式三**: 拖拽图片到左侧列表区域

### 2️⃣ 查看胶片预览
- 点击列表中的胶片
- 中间区域显示完整的胶片扫描图

### 3️⃣ 提取所有帧
- 点击"🎬 提取所有帧"按钮
- 自动处理所有添加的胶片
- 显示实时进度："正在处理胶片 1/3..."
- 提取完成后显示所有帧的缩略图

### 4️⃣ 调整参数（可选）
**帧高度**:
- 自动检测（推荐）：智能识别帧分隔线
- 手动设置：当自动检测失败时使用

**视频帧率**:
- 8-12 FPS: 胶片风格（推荐）
- 24-30 FPS: 流畅播放

### 5️⃣ 生成视频
- 点击"🎥 生成视频"按钮
- 选择保存位置
- 等待处理完成

## ✨ 主要改进

### ✅ 已修复的问题
1. **清空列表错误** - 现在可以正常清空列表
2. **批量处理** - 一次性提取所有胶片的帧
3. **拖拽支持** - 可以拖拽文件到窗口添加

### 🎯 功能特性
- ✅ 自动检测胶片上的多个画面帧
- ✅ 支持多张胶片批量处理
- ✅ 拖拽添加文件（窗口任意位置）
- ✅ 实时预览提取的帧
- ✅ 处理进度提示
- ✅ 统计信息显示

## 🔍 使用示例

### 示例1: 处理单个胶片
```
1. 拖拽 "film1.jpg" 到窗口
2. 自动添加到列表
3. 点击 "提取所有帧"
4. 查看提取的 8 个帧
5. 点击 "生成视频"
6. 保存为 "output.mp4"
```

### 示例2: 处理多个胶片
```
1. 添加多张胶片:
   - film1.jpg (包含 8 帧)
   - film2.jpg (包含 10 帧)
   - film3.jpg (包含 9 帧)

2. 点击 "提取所有帧"
   - 显示: "正在处理胶片 1/3..."
   - 显示: "正在处理胶片 2/3..."
   - 显示: "正在处理胶片 3/3..."
   - 完成: "从 3 张胶片提取了 27 帧"

3. 查看统计:
   - 总帧数: 27
   - 预计时长: 2.3 秒 (12 FPS)

4. 生成视频
```

## 💡 小贴士

1. **自动检测失败时**
   - 切换到"手动"模式
   - 调整帧高度数值
   - 重新点击"提取所有帧"

2. **拖拽添加**
   - 可以一次拖拽多个文件
   - 支持 .jpg, .jpeg, .png 格式

3. **处理顺序**
   - 按列表顺序处理胶片
   - 提取的帧按顺序拼接

4. **快速操作**
   - 拖拽比按钮添加更快
   - 可以随时添加更多胶片
   - 重新提取会覆盖之前的结果

## ⚠️ 注意事项

- 提取帧会处理**所有**添加的胶片
- 重新提取会**覆盖**之前的结果
- 确保胶片图片包含多个纵向排列的画面帧
- 建议胶片扫描分辨率不低于 1000px

## 🚀 快速启动

```bash
./run_gui.sh
```

---

**开始处理你的胶片吧！** 🎬✨
