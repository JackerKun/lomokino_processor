# LomoKino GUI - 图片转视频工具

一个功能强大、跨平台的图形界面应用,用于将多张图片拼接成视频,支持自定义裁切、排序和参数调节。

## 📸 功能特性

- ✅ **跨平台支持**: 完美支持 macOS 和 Windows 系统
- 🖱️ **拖拽排序**: 通过拖拽轻松调整图片顺序
- ✂️ **实时裁切**: 支持上下左右边距裁切,实时预览效果
- 🎬 **参数调节**: 可调节视频帧率 (1-60 FPS)
- 👀 **实时预览**: 选择图片即可查看裁切效果
- 📊 **进度显示**: 视频生成过程中显示详细进度
- 🎨 **现代UI**: 简洁美观的用户界面

## 🚀 快速开始

### Mac 用户

1. **安装依赖**
   ```bash
   chmod +x install_gui.sh run_gui.sh build_app.sh
   ./install_gui.sh
   ```

2. **运行应用**
   ```bash
   ./run_gui.sh
   ```

3. **打包独立应用 (可选)**
   ```bash
   ./build_app.sh
   # 打包后的应用在 dist/LomoKinoGUI.app
   ```

### Windows 用户

1. **安装依赖**
   - 双击运行 `install_gui.bat`

2. **运行应用**
   - 双击运行 `run_gui.bat`

3. **打包独立应用 (可选)**
   - 双击运行 `build_app.bat`
   - 打包后的应用在 `dist\LomoKinoGUI.exe`

## 💡 使用说明

### 基本操作流程

1. **添加图片**
   - 点击"添加图片"按钮选择文件
   - 或直接拖拽图片到左侧图片列表区域
   - 支持 `.jpg`, `.jpeg`, `.png` 格式

2. **调整顺序**
   - 在左侧图片列表中拖拽图片可改变顺序
   - 视频将按图片顺序生成

3. **预览和裁切**
   - 点击图片查看预览
   - 使用右侧的裁切滑块调整边距
   - 绿色边框显示裁切后的区域

4. **设置参数**
   - **视频帧率**: 调节 FPS 值 (默认 12)
     - 较低 FPS (8-12): 更有电影感
     - 较高 FPS (24-30): 更流畅
   - **裁切边距**: 调节上下左右边距百分比
     - 用于去除黑边或不需要的部分

5. **生成视频**
   - 点击"生成视频"按钮
   - 选择保存位置和文件名
   - 等待进度条完成

### 界面说明

```
┌─────────────────────────────────────────────────────┐
│             LomoKino 图片转视频工具                    │
├──────────────┬──────────────────────────────────────┤
│  图片列表     │           预览区域                     │
│              │                                       │
│  [添加图片]   │  [选择图片查看预览]                    │
│  [移除选中]   │                                       │
│  [清空列表]   │  绿色框 = 裁切区域                     │
│              │                                       │
│  📷 图片1     │  ─────────────────────                │
│  📷 图片2     │         参数设置                      │
│  📷 图片3     │                                       │
│              │  视频帧率: [12] FPS                    │
│  图片数量: 3  │  上边距:   [━━━━━━] 0%               │
│              │  下边距:   [━━━━━━] 0%               │
│              │  左边距:   [━━━━━━] 0%               │
│              │  右边距:   [━━━━━━] 0%               │
│              │                                       │
│              │  [████████████] 进度条                │
│              │  [    生成视频    ]                   │
└──────────────┴──────────────────────────────────────┘
```

### 按钮功能

- **添加图片**: 打开文件选择对话框添加图片
- **移除选中**: 移除当前选中的图片
- **清空列表**: 清空所有图片 (需要确认)
- **生成视频**: 根据当前设置生成 MP4 视频

## 🎯 使用场景

### 场景1: 处理 LomoKino 胶片扫描

1. 扫描胶片得到图片
2. 添加到应用中
3. 调整裁切去除胶片孔和黑边
4. 设置合适的帧率 (推荐 12 FPS)
5. 生成复古风格视频

### 场景2: 制作延时摄影视频

1. 导入一系列延时拍摄的照片
2. 按时间顺序排列
3. 设置较高帧率 (24-30 FPS)
4. 生成流畅的延时视频

### 场景3: 图片幻灯片

1. 添加多张照片
2. 调整展示顺序
3. 设置较低帧率 (每张显示更久)
4. 生成幻灯片视频

## ⚙️ 参数说明

| 参数 | 范围 | 说明 | 推荐值 |
|------|------|------|--------|
| **视频帧率** | 1-60 FPS | 每秒显示的帧数 | 胶片: 12, 延时: 24-30 |
| **上边距** | 0-50% | 从顶部裁切的百分比 | 根据需要调整 |
| **下边距** | 0-50% | 从底部裁切的百分比 | 根据需要调整 |
| **左边距** | 0-50% | 从左侧裁切的百分比 | 根据需要调整 |
| **右边距** | 0-50% | 从右侧裁切的百分比 | 根据需要调整 |

## 🔧 系统要求

### Mac
- macOS 10.14 或更高版本
- Python 3.7+
- 200MB 可用磁盘空间

### Windows
- Windows 10 或更高版本
- Python 3.7+
- 200MB 可用磁盘空间

## 📦 依赖库

- **PyQt6**: 图形界面框架
- **OpenCV**: 图像处理和视频生成
- **NumPy**: 数值计算

## ❓ 常见问题

### Q1: 为什么预览显示空白?
- 确保选择了图片列表中的某一项
- 检查图片文件是否损坏
- 尝试重新添加图片

### Q2: 视频生成失败怎么办?
- 确保至少添加了 1 张图片
- 检查保存路径是否有写入权限
- 确保图片格式正确 (jpg/jpeg/png)
- 查看错误提示信息

### Q3: 裁切预览不准确?
- 调整裁切参数后点击其他图片再点回来刷新
- 确保裁切区域有效 (上+下 < 100%, 左+右 < 100%)

### Q4: 如何提高视频质量?
- 使用高分辨率的源图片
- 调整裁切参数保留更多内容
- 选择合适的帧率

### Q5: 生成的视频文件很大?
- 这是正常的,使用的是标准 MP4 编码
- 可以使用第三方工具进一步压缩
- 减小源图片分辨率可降低文件大小

### Q6: Mac 上提示"无法打开应用"?
打包后的应用可能被 macOS 阻止:
```bash
# 解决方法
xattr -cr dist/LomoKinoGUI.app
```

### Q7: Windows 上杀毒软件报警?
- 这是 PyInstaller 打包的常见误报
- 可以添加到白名单
- 或直接使用 Python 脚本运行

## 🎨 界面主题

应用使用现代化的 Fusion 风格,包含:
- 蓝色主题按钮
- 灰色背景和边框
- 高对比度文字
- 绿色裁切预览框

## 📝 技术细节

### 视频编码
- 格式: MP4 (MPEG-4)
- 编解码器: mp4v
- 色彩空间: BGR (OpenCV 标准)

### 图片处理
- 支持的格式: JPG, JPEG, PNG
- 裁切算法: 基于百分比的边距计算
- 缩放模式: 保持宽高比

### 多线程处理
- 视频生成在后台线程运行
- 不阻塞 UI 响应
- 实时进度更新

## 🔄 更新日志

### v1.0.0 (2026-01)
- ✨ 初始版本发布
- ✅ 跨平台支持 (Mac/Windows)
- ✅ 拖拽排序功能
- ✅ 实时裁切预览
- ✅ 可调节参数
- ✅ 进度显示

## 📄 许可证

本项目采用 MIT 许可证。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request!

## 📧 支持

如遇问题,请查看常见问题部分或提交 Issue。

---

**享受使用 LomoKino GUI 创作视频的乐趣!** 🎬✨
